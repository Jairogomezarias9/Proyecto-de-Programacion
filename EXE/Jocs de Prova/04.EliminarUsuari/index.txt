# Joc de Prova - Cas d'ús #4 Eliminar Usuari

Objecte de la prova:
Cas d'ús: Eliminar Usuari.
Es prova la funcionalitat d'eliminar el compte d'un usuari autenticat del sistema a través de la interfície gràfica, verificant tant l'èxit de l'operació com la gestió d'errors.

Fitxers de dades necessaris:
Per executar totes les proves, cal preparar l'entorn amb els fitxers de dades inclosos.

PREPARACIÓ DE L'ENTORN (OBLIGATORI):
   Abans d'executar les proves, cal copiar els fitxers de dades preparats:
   1. Tancar l'aplicació si està oberta
   2. Copiar la carpeta "fitxers_necessaris/dades/" al directori FONTS/
      - Windows: xcopy /E /I "fitxers_necessaris\dades" "..\..\..\..\FONTS\dades"
      - Linux/Mac: cp -r fitxers_necessaris/dades ../../../../FONTS/
   3. Tornar a iniciar l'aplicació

Usuari preexistent per a les proves:
   - Username: "Usuari"
   - Password: "1234"

Estructura dels fitxers de dades preparats:
- dades/usuaris/index.json: Índex amb l'usuari "Usuari"
- dades/usuaris/Usuari.json: Fitxer de l'usuari preexistent per iniciar sessió

El sistema utilitza internament per a la persistència:
- usuaris/index.json: Per emmagatzemar la llista d'usuaris. Emmagatzema objectes de la classe Usuari.
- usuaris/{username}.json: Per emmagatzemar les dades de cada usuari individual.

Valors estudiats:
Es realitzen proves de caixa negra (Black Box) centrades en les particions d'equivalència i valors límit definits per les regles de negoci del domini.

Conjunts de dades de comportament homogeni:
1. Eliminació exitosa d'usuari (Cas d'èxit):
   - Pre-condició: L'usuari "Usuari" existeix al sistema i ha iniciat sessió.
   - Accions:
      1. Iniciar l'aplicació.
      2. Introduir usuari: Usuari.
      3. Introduir contrasenya: 1234.
      4. Clic al botó "Iniciar Sessió".
      5. Verificar que s'obre la finestra principal.
      6. Clic a l'opció "Eliminar el meu compte".
      7. Confirmar l'eliminació al diàleg de confirmació.
      8. Verificar missatge d'èxit ("L'usuari Usuari ha estat eliminat correctament").
      9. Verificar que es tanca la finestra principal i es torna a la pantalla d'inici.
   - Resultat esperat: L'usuari s'elimina correctament, es tanca la sessió i es torna a la pantalla d'inici.

2. Cancel·lació de l'eliminació:
   - Pre-condició: L'usuari "Usuari" ha iniciat sessió.
   - Accions:
      1. Iniciar sessió amb Usuari / 1234.
      2. Clic a l'opció "Eliminar el meu compte".
      3. Clic al botó "No" al diàleg de confirmació.
      4. Verificar que es tanca el diàleg sense eliminar l'usuari.
      5. Verificar que l'usuari continua amb sessió activa.
   - Resultat esperat: L'usuari cancel·la l'operació i el compte no s'elimina.

3. Verificació de persistència després d'eliminar:
   - Pre-condició: L'usuari "Usuari" ha estat eliminat.
   - Accions:
      1. Seguir les accions del cas 1 per eliminar l'usuari.
      2. A la pantalla d'inici de sessió, intentar iniciar sessió amb Usuari / 1234.
      3. Verificar que es mostra un error de credencials incorrectes.
      4. Verificar que l'usuari no existeix a usuaris/index.json.
   - Resultat esperat: L'usuari ja no existeix i no pot iniciar sessió.

4. Eliminació d'usuari amb dades associades:
   - Pre-condició: L'usuari "Usuari" té enquestes creades.
   - Accions:
      1. Iniciar sessió amb Usuari / 1234.
      2. Crear una enquesta de prova.
      3. Clic a l'opció "Eliminar el meu compte".
      4. Confirmar l'eliminació.
      5. Verificar que tant l'usuari com les seves enquestes s'han eliminat del sistema.
   - Resultat esperat: L'usuari s'elimina juntament amb totes les seves dades associades.

Efectes estudiats:
- Interacció amb la GUI: Navegació per menús i confirmació de diàleg.
- Accions: 
   - Clic a l'opció "Eliminar el meu compte".
   - Confirmació o cancel·lació al diàleg emergent.
- Feedback visual: 
    - Aparició de diàleg de confirmació abans d'eliminar.
    - Missatge d'èxit després de l'eliminació.
    - Retorn a la pantalla d'inici de sessió.
- Persistència: 
    - L'usuari s'elimina de usuaris/index.json.
    - El fitxer usuaris/{username}.json s'elimina completament.
    - Les dades associades (enquestes) s'eliminen correctament.
- Gestió de sessió: La sessió es tanca automàticament després d'eliminar el compte.
- Validació: No es pot tornar a iniciar sessió amb l'usuari eliminat.
